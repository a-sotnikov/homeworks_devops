# Домашнее задание к занятию "7.1. Ansible"

 ---

### Задание 1. 

Какие преимущества дает подход IAC?

*Приведите ответ в свободной форме.*

---

### Задание 2 

> 1. Установите Ansible. 

![image](https://user-images.githubusercontent.com/115862529/207091933-8f81da86-0023-46da-a3a9-53e704cd326f.png) 

> 2. Настройте управляемые машины (виртуальные или физические, не менее двух).  

![image](https://user-images.githubusercontent.com/115862529/207092609-0560ca3b-71c7-487f-b048-434e94a39e4e.png)

> 3. Создайте файл инвентори. Предлагается использовать файл, размещенный в папке с проектом, а не файл инвентори по умолчанию.

```yml
all:
  children:
    virtualmachines:
      hosts:
        192.168.56.8:
        192.168.56.9:
      vars:
        ansible_connection: ssh
        ansible_user: sotnikov
        ansible_ssh_pass: 1234
```

> 4. Проверьте доступность хостов с помощью модуля ping.

![image](https://user-images.githubusercontent.com/115862529/207092891-2ac2fdca-5af0-409c-8bfc-a49f48f39952.png)
 
---

### Задание 3 

> Какая разница между параметрами forks и serial? 

Насколько я понял, с помощью `serial` можно разделить хосты на группы, на каждую из которых будет последовательно применяться плейбук.
Условно, можно задать разделение по 25% хостов, и Ansible будет запускать плейбук четыре раза.
А если задать "1", то плейбук будет применяться к каждому хосту поочередно.

`forks` же определяет, со скольким количеством хостов Ansible будет пытаться работать условно параллельно. По умолчанию - 5.

---

### Задание 4 

> В этом задании мы будем работать с Ad-hoc коммандами.
>
> 1. Установите на управляемых хостах пакет, которого нет(любой).

![image](https://user-images.githubusercontent.com/115862529/207101953-aa9c4088-12de-44e2-a29b-164eb51478bb.png)

> 2. Проверьте статус любого присутствующего на управляемой машине сервиса.

![image](https://user-images.githubusercontent.com/115862529/207102379-2efa2741-8f3c-414e-94ed-fac0b70cbfee.png)

> 3. Создайте файл с содержимым "I like Linux" по пути /tmp/netology.txt

![image](https://user-images.githubusercontent.com/115862529/207103079-0402f2d3-98f4-430e-b2d6-c6704da0005e.png)

 
---

### Задание 5

Напишите 3 playbook'a. При написании рекомендуется использовать текстовый редактор с подсветкой синтаксиса YAML.
Плейбуки должны: 
1. Скачать какой либо архив, создать папку для распаковки и распаковать скаченный архив. Например, можете использовать официальный сайт и зеркало Apache Kafka https://kafka.apache.org/downloads. При этом можно качать как исходный код, так и бинарные файлы (запакованные в архив), в нашем задании не принципиально.
2. Установить пакет tuned из стандартного репозитория вашей ОС. Запустить его как демон (конфигурационный файл systemd появится автоматически при установке). Добавить tuned в автозагрузку.
3. Изменить приветствие системы (motd) при входе на любое другое по вашему желанию. Пожалуйста, в этом задании используйте переменную для задания приветствия. Переменную можно задавать любым удобным вам способом.

*Приложите файлы с плейбуками и вывод выполнения.*

 ---
 
**

## Дополнительные задания (со звездочкой*)
Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.


### Задание 6

Задание модифицировать playbook из 3 пункта 5 задания: 

Playbook должен в качестве приветствия установить ip адрес и hostname усправляемого хоста, пожелание хорошего дня системному администратору. 

*Приложите файл с модифицированным плейбуком и вывод выполнения.*

 ---

### Задание 7

Создайте playbook, который будет включать в себя одну, вами созданную роль.
Роль должна:

1. Установить веб сервер Apache на управляемые хосты.
2. Сконфигурировать файл index.html c выводом характеристик для каждого компьютера. Необходимо включить CPU, RAM, величину первого HDD, ip адрес.
3. Открыть порт 80 (если необходимо), запустить сервер и добавить его в автозагрузку.
4. Сделать проверку доступности веб сайта(ответ 200).

*Приложите архив с ролью и вывод выполнения.*
